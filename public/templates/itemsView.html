<div id="addItemsModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Add Item</h4>
            </div>
            <div class="modal-body">
                <div id="addItemsErrorDiv" 
                    class='alert alert-danger hidden'>
                    <span class="glyphicon glyphicon-warning-sign"></span>
                    &nbsp;
                    <span id="addItemsErrorMessage"></span>
                </div>

                <!-- Begin form -->
                <form id="addItemsForm" name="addItemsForm" role="form">
                    <div class="form-group has-feedback">
                        <label for="location">Item Name:</label>
                        <input type="text" class="form-control"
                            ng-model="$parent.addItemsForm.name">
                    </div>
                    <div class="form-group has-feedback">
                        <label for="location">Description:</label>
                        <textarea class="form-control" rows="5"
                            id="itemsDescription" 
                            ng-model="$parent.addItemsForm.description">
                        </textarea>
                    </div>
                    <div class="form-group has-feedback">
                        <label for="location">Price:</label>
                        <input type="text" class="form-control"
                            ng-model="$parent.addItemsForm.price">
                    </div>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox"
                                ng-model="$parent.addItemsForm.active"> Active?
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="picture1Upload">Main Picture</label>
                        <input type="file"
                        onchange="angular.element(this).scope().upload1(this)">
                    </div>
                    <div class="form-group">
                        <label for="picture2Upload">Secondary Picture</label>
                        <input type="file"
                        onchange="angular.element(this).scope().upload2(this)">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <img id="addItemLoaderGif" src="/images/ajax-loader.gif"
                    class="hidden"/>
                <button type="button" class="btn btn-default"
                    data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary"
                    ng-click="addItem()">Add item</button>
            </div>
        </div>
    </div>
</div>

<!-- Very similar to add items modal, but extra checkbox -->
<div id="editItemsModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Edit Item</h4>
            </div>
            <div class="modal-body">
                <div id="editItemsErrorDiv" 
                    class='alert alert-danger hidden'>
                    <span class="glyphicon glyphicon-warning-sign"></span>
                    &nbsp;
                    <span id="editItemsErrorMessage"></span>
                </div>
                
                <div class='alert alert-warning'>
                    Leave areas blank if you do not want to edit them.
                </div>

                <!-- Begin form -->
                <form id="editItemsForm" name="editItemsForm" role="form">
                    <div class="form-group has-feedback">
                        <label for="location">Item Name:</label>
                        <input type="text" class="form-control"
                            ng-model="$parent.editItemsForm.name">
                    </div>
                    <div class="form-group has-feedback">
                        <label for="location">Description:</label>
                        <textarea class="form-control" rows="5"
                            id="itemsDescription" 
                            ng-model="$parent.editItemsForm.description">
                        </textarea>
                    </div>
                    <div class="form-group has-feedback">
                        <label for="location">Price:</label>
                        <input type="text" class="form-control"
                            ng-model="$parent.editItemsForm.price">
                    </div>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox"
                                ng-model="$parent.editItemsForm.active"> Active?
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <img id="editItemLoaderGif" src="/images/ajax-loader.gif"
                    class="hidden"/>
                <button type="button" class="btn btn-default"
                    data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary"
                    ng-click="editItem()">Edit item</button>
            </div>
        </div>
    </div>
</div>

<!-- Very similar to add items modal, but extra checkbox -->
<div id="editItemsPicturesModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Edit Pictures</h4>
            </div>
            <div class="modal-body">
                <div id="editItemsPicturesErrorDiv" 
                    class='alert alert-danger hidden'>
                    <span class="glyphicon glyphicon-warning-sign"></span>
                    &nbsp;
                    <span id="editItemsPicturesErrorMessage"></span>
                </div>
                
                <div class='alert alert-warning'>
                    Leave areas blank if you do not want to edit them.
                </div>

                <!-- Begin form -->
                <form id="editItemsPicturesForm" name="editItemsPicturesForm"
                    role="form">
                    
                    <div class="form-group">
                        <label for="picture1Upload">Main Picture</label>
                        <input type="file"
                        onchange="angular.element(this).scope().eupload1(this)">
                    </div>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox"
                                ng-model="$parent.editItemsPicturesForm.dp2">
                                Delete secondary picture?
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="picture2Upload">Secondary Picture</label>
                        <input type="file"
                        onchange="angular.element(this).scope().eupload2(this)">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <img id="editItemPicturesLoaderGif"
                    src="/images/ajax-loader.gif" class="hidden"/>
                <button type="button" class="btn btn-default"
                    data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary"
                    ng-click="editItemPictures()">Edit Pictures</button>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div id="content-title" class="panel-heading">
	    Items
	    <button class="btn btn-success btn-xs pull-right" 
	            ng-click="showAddItemModal()">
	        Create a new item
	    </button>
    </div>
    <div class="panel-body">    
	    <div class="table-responsive">
            <table class="table table-condensed table-bordered">
                <tr>
                    <td class="lead">ID</td>
                    <td class="lead">Name</td>
                    <td class="lead">Description</td>
                    <td class="lead">Price</td>
                    <td class="lead">Active</td>
                    <td class="lead">Main Picture</td>
                    <td class="lead">Secondary Picture</td>
                    <td class="lead">Delete</td>
                </tr>
                <tr ng-repeat="item in items"
                    ng-class="(item.active == 1) ? 'success' : 'danger'">
                    <td>{{ item.id }}</td>
                    <td>
                        <button type="button" class="btn btn-info"
                                ng-click="showEditItemModal(item.id)">
                            Edit
                        </button>
                        <br>
                        <button type="button" class="btn btn-info"
                                ng-click="editItemsPicturesModal(item.id)">
                            Edit Pictures
                        </button>
                        <br>
                        {{ item.name }}
                    </td>
                    <td><pre>{{ item.description }}</pre></td>
                    <td>{{ item.price }}</td>
                    <td>{{ item.active }}</td>
                    <td><img class="img-responsive"
                        ng-src=" {{ item.picture1Path }} "></td>
                    <td><img class="img-responsive"
                        ng-src=" {{ item.picture2Path }} "></td>
                    <td>
                        <button type="button" class="btn btn-danger"
                                ng-click="deleteItem(item.id)">
                            Delete
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>


